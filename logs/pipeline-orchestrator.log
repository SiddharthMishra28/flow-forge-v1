2025-11-17 20:32:26.933 [main] INFO  c.t.o.PipelineOrchestratorApplicationTests - Starting PipelineOrchestratorApplicationTests using Java 17.0.16 with PID 22480 (started by Admin in D:\vibe\flow-forge-v1 - before suites - with branch - latest)
2025-11-17 20:32:26.935 [main] DEBUG c.t.o.PipelineOrchestratorApplicationTests - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-11-17 20:32:26.937 [main] INFO  c.t.o.PipelineOrchestratorApplicationTests - The following 1 profile is active: "test"
2025-11-17 20:32:27.015 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6124287a
2025-11-17 20:32:31.576 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-17 20:32:33.009 [main] DEBUG org.hibernate.SQL - 
    drop table if exists applications cascade 
2025-11-17 20:32:33.013 [main] DEBUG org.hibernate.SQL - 
    drop table if exists flow_executions cascade 
2025-11-17 20:32:33.013 [main] DEBUG org.hibernate.SQL - 
    drop table if exists flow_steps cascade 
2025-11-17 20:32:33.014 [main] DEBUG org.hibernate.SQL - 
    drop table if exists flows cascade 
2025-11-17 20:32:33.014 [main] DEBUG org.hibernate.SQL - 
    drop table if exists pipeline_executions cascade 
2025-11-17 20:32:33.014 [main] DEBUG org.hibernate.SQL - 
    drop table if exists test_data cascade 
2025-11-17 20:32:33.021 [main] DEBUG org.hibernate.SQL - 
    create table applications (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        application_description varchar(255) not null,
        application_name varchar(255) not null,
        gitlab_project_id varchar(255) not null,
        personal_access_token varchar(255) not null,
        project_name varchar(255),
        project_url varchar(255),
        token_status varchar(255) not null check (token_status in ('ACTIVE','EXPIRED','INVALID')),
        primary key (id)
    )
2025-11-17 20:32:33.032 [main] DEBUG org.hibernate.SQL - 
    create table flow_executions (
        created_at timestamp(6) not null,
        end_time timestamp(6),
        flow_id bigint not null,
        start_time timestamp(6),
        id uuid not null,
        status varchar(255) check (status in ('RUNNING','PASSED','FAILED','CANCELLED','SCHEDULED','IN_PROGRESS')),
        runtime_variables json,
        primary key (id)
    )
2025-11-17 20:32:33.035 [main] DEBUG org.hibernate.SQL - 
    create table flow_steps (
        application_id bigint not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        branch varchar(255) not null,
        description varchar(255),
        scheduler_type varchar(255),
        test_stage varchar(255) not null,
        test_tag varchar(255) not null,
        timer_days varchar(255),
        timer_hours varchar(255),
        timer_minutes varchar(255),
        squash_step_ids json,
        test_data_ids json,
        primary key (id)
    )
2025-11-17 20:32:33.037 [main] DEBUG org.hibernate.SQL - 
    create table flows (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        squash_test_case_id bigint not null,
        updated_at timestamp(6) not null,
        squash_test_case varchar(255) not null,
        flow_step_ids json not null,
        primary key (id)
    )
2025-11-17 20:32:33.038 [main] DEBUG org.hibernate.SQL - 
    create table pipeline_executions (
        is_replay boolean not null,
        created_at timestamp(6) not null,
        end_time timestamp(6),
        flow_id bigint not null,
        flow_step_id bigint not null,
        id bigint generated by default as identity,
        pipeline_id bigint,
        resume_time timestamp(6),
        start_time timestamp(6),
        flow_execution_id uuid not null,
        original_flow_execution_id uuid,
        pipeline_url varchar(255),
        status varchar(255) check (status in ('RUNNING','PASSED','FAILED','CANCELLED','SCHEDULED','IN_PROGRESS')),
        configured_test_data json,
        runtime_test_data json,
        primary key (id)
    )
2025-11-17 20:32:33.039 [main] DEBUG org.hibernate.SQL - 
    create table test_data (
        application_id bigint,
        created_at timestamp(6) not null,
        data_id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        application_name varchar(255) not null,
        category varchar(255) not null,
        description varchar(255),
        variables json not null,
        primary key (data_id)
    )
2025-11-17 20:32:37.529 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/flow-logs/{flowExecutionUUID}] in 'webSocketHandlerMapping'
2025-11-17 20:32:38.211 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-17 20:32:38.470 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 46 mappings in 'requestMappingHandlerMapping'
2025-11-17 20:32:38.618 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-17 20:32:38.677 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-17 20:32:38.740 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-17 20:32:40.077 [main] INFO  c.t.o.PipelineOrchestratorApplicationTests - Started PipelineOrchestratorApplicationTests in 13.759 seconds (process running for 15.494)
2025-11-17 20:32:40.134 [scheduling-1] DEBUG c.t.o.service.SchedulingService - Checking for scheduled pipeline executions ready to resume...
2025-11-17 20:32:40.344 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.configured_test_data,
        pe1_0.created_at,
        pe1_0.end_time,
        pe1_0.flow_execution_id,
        pe1_0.flow_id,
        pe1_0.flow_step_id,
        pe1_0.is_replay,
        pe1_0.original_flow_execution_id,
        pe1_0.pipeline_id,
        pe1_0.pipeline_url,
        pe1_0.resume_time,
        pe1_0.runtime_test_data,
        pe1_0.start_time,
        pe1_0.status 
    from
        pipeline_executions pe1_0 
    where
        pe1_0.status=? 
        and pe1_0.resume_time<?
2025-11-17 20:32:40.413 [scheduling-1] INFO  c.t.o.service.SchedulingService - Found 0 scheduled executions ready to resume
2025-11-17 20:32:41.323 [main] DEBUG c.t.o.util.OutputEnvParser - Parsed variable: KEY1=value1
2025-11-17 20:32:41.324 [main] DEBUG c.t.o.util.OutputEnvParser - Parsed variable: KEY2=value2
2025-11-17 20:32:41.324 [main] INFO  c.t.o.util.OutputEnvParser - Successfully parsed 2 variables from output.env
2025-11-17 20:32:41.372 [main] DEBUG c.t.o.util.OutputEnvParser - Merged 2 new variables with 2 existing variables
2025-11-17 20:32:41.377 [main] DEBUG c.t.o.util.OutputEnvParser - Parsed variable: KEY1=value1
2025-11-17 20:32:41.377 [main] DEBUG c.t.o.util.OutputEnvParser - Parsed variable: KEY2=value2
2025-11-17 20:32:41.378 [main] INFO  c.t.o.util.OutputEnvParser - Successfully parsed 2 variables from output.env
2025-11-17 20:32:41.385 [main] DEBUG c.t.o.util.OutputEnvParser - Parsed variable: KEY1=quoted value
2025-11-17 20:32:41.387 [main] DEBUG c.t.o.util.OutputEnvParser - Parsed variable: KEY2=single quoted
2025-11-17 20:32:41.389 [main] INFO  c.t.o.util.OutputEnvParser - Successfully parsed 2 variables from output.env
2025-11-17 20:32:41.393 [main] DEBUG c.t.o.util.OutputEnvParser - Parsed variable: KEY1=value1
2025-11-17 20:32:41.394 [main] DEBUG c.t.o.util.OutputEnvParser - Parsed variable: KEY2=value2
2025-11-17 20:32:41.408 [main] INFO  c.t.o.util.OutputEnvParser - Successfully parsed 2 variables from output.env
2025-11-17 20:32:41.441 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@6124287a, started on Mon Nov 17 20:32:27 IST 2025
2025-11-17 20:32:41.466 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists applications cascade 
2025-11-17 20:32:41.469 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists flow_executions cascade 
2025-11-17 20:32:41.469 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists flow_steps cascade 
2025-11-17 20:32:41.470 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists flows cascade 
2025-11-17 20:32:41.471 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists pipeline_executions cascade 
2025-11-17 20:32:41.472 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists test_data cascade 
2025-11-17 20:37:14.132 [main] INFO  c.t.o.PipelineOrchestratorApplicationTests - Starting PipelineOrchestratorApplicationTests using Java 17.0.16 with PID 20736 (started by Admin in D:\vibe\flow-forge-v1 - before suites - with branch - latest)
2025-11-17 20:37:14.133 [main] DEBUG c.t.o.PipelineOrchestratorApplicationTests - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-11-17 20:37:14.135 [main] INFO  c.t.o.PipelineOrchestratorApplicationTests - The following 1 profile is active: "test"
2025-11-17 20:37:14.197 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6124287a
2025-11-17 20:37:18.505 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-17 20:37:19.887 [main] DEBUG org.hibernate.SQL - 
    drop table if exists applications cascade 
2025-11-17 20:37:19.891 [main] DEBUG org.hibernate.SQL - 
    drop table if exists flow_executions cascade 
2025-11-17 20:37:19.892 [main] DEBUG org.hibernate.SQL - 
    drop table if exists flow_steps cascade 
2025-11-17 20:37:19.892 [main] DEBUG org.hibernate.SQL - 
    drop table if exists flows cascade 
2025-11-17 20:37:19.892 [main] DEBUG org.hibernate.SQL - 
    drop table if exists pipeline_executions cascade 
2025-11-17 20:37:19.893 [main] DEBUG org.hibernate.SQL - 
    drop table if exists test_data cascade 
2025-11-17 20:37:19.900 [main] DEBUG org.hibernate.SQL - 
    create table applications (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        application_description varchar(255) not null,
        application_name varchar(255) not null,
        gitlab_project_id varchar(255) not null,
        personal_access_token varchar(255) not null,
        project_name varchar(255),
        project_url varchar(255),
        token_status varchar(255) not null check (token_status in ('ACTIVE','EXPIRED','INVALID')),
        primary key (id)
    )
2025-11-17 20:37:19.918 [main] DEBUG org.hibernate.SQL - 
    create table flow_executions (
        created_at timestamp(6) not null,
        end_time timestamp(6),
        flow_id bigint not null,
        start_time timestamp(6),
        id uuid not null,
        status varchar(255) check (status in ('RUNNING','PASSED','FAILED','CANCELLED','SCHEDULED','IN_PROGRESS')),
        runtime_variables json,
        primary key (id)
    )
2025-11-17 20:37:19.920 [main] DEBUG org.hibernate.SQL - 
    create table flow_steps (
        application_id bigint not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        branch varchar(255) not null,
        description varchar(255),
        scheduler_type varchar(255),
        test_stage varchar(255) not null,
        test_tag varchar(255) not null,
        timer_days varchar(255),
        timer_hours varchar(255),
        timer_minutes varchar(255),
        squash_step_ids json,
        test_data_ids json,
        primary key (id)
    )
2025-11-17 20:37:19.922 [main] DEBUG org.hibernate.SQL - 
    create table flows (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        squash_test_case_id bigint not null,
        updated_at timestamp(6) not null,
        squash_test_case varchar(255) not null,
        flow_step_ids json not null,
        primary key (id)
    )
2025-11-17 20:37:19.924 [main] DEBUG org.hibernate.SQL - 
    create table pipeline_executions (
        is_replay boolean not null,
        created_at timestamp(6) not null,
        end_time timestamp(6),
        flow_id bigint not null,
        flow_step_id bigint not null,
        id bigint generated by default as identity,
        pipeline_id bigint,
        resume_time timestamp(6),
        start_time timestamp(6),
        flow_execution_id uuid not null,
        original_flow_execution_id uuid,
        pipeline_url varchar(255),
        status varchar(255) check (status in ('RUNNING','PASSED','FAILED','CANCELLED','SCHEDULED','IN_PROGRESS')),
        configured_test_data json,
        runtime_test_data json,
        primary key (id)
    )
2025-11-17 20:37:19.926 [main] DEBUG org.hibernate.SQL - 
    create table test_data (
        application_id bigint,
        created_at timestamp(6) not null,
        data_id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        application_name varchar(255) not null,
        category varchar(255) not null,
        description varchar(255),
        variables json not null,
        primary key (data_id)
    )
2025-11-17 20:37:23.200 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/flow-logs/{flowExecutionUUID}] in 'webSocketHandlerMapping'
2025-11-17 20:37:23.830 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-17 20:37:24.042 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 46 mappings in 'requestMappingHandlerMapping'
2025-11-17 20:37:24.184 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-17 20:37:24.258 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-17 20:37:24.347 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-17 20:37:25.412 [main] INFO  c.t.o.PipelineOrchestratorApplicationTests - Started PipelineOrchestratorApplicationTests in 11.86 seconds (process running for 13.534)
2025-11-17 20:37:25.437 [scheduling-1] DEBUG c.t.o.service.SchedulingService - Checking for scheduled pipeline executions ready to resume...
2025-11-17 20:37:25.670 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.configured_test_data,
        pe1_0.created_at,
        pe1_0.end_time,
        pe1_0.flow_execution_id,
        pe1_0.flow_id,
        pe1_0.flow_step_id,
        pe1_0.is_replay,
        pe1_0.original_flow_execution_id,
        pe1_0.pipeline_id,
        pe1_0.pipeline_url,
        pe1_0.resume_time,
        pe1_0.runtime_test_data,
        pe1_0.start_time,
        pe1_0.status 
    from
        pipeline_executions pe1_0 
    where
        pe1_0.status=? 
        and pe1_0.resume_time<?
2025-11-17 20:37:25.719 [scheduling-1] INFO  c.t.o.service.SchedulingService - Found 0 scheduled executions ready to resume
2025-11-17 20:37:26.381 [main] DEBUG c.t.o.util.OutputEnvParser - Parsed variable: KEY1=value1
2025-11-17 20:37:26.382 [main] DEBUG c.t.o.util.OutputEnvParser - Parsed variable: KEY2=value2
2025-11-17 20:37:26.382 [main] INFO  c.t.o.util.OutputEnvParser - Successfully parsed 2 variables from output.env
2025-11-17 20:37:26.433 [main] DEBUG c.t.o.util.OutputEnvParser - Merged 2 new variables with 2 existing variables
2025-11-17 20:37:26.438 [main] DEBUG c.t.o.util.OutputEnvParser - Parsed variable: KEY1=value1
2025-11-17 20:37:26.439 [main] DEBUG c.t.o.util.OutputEnvParser - Parsed variable: KEY2=value2
2025-11-17 20:37:26.439 [main] INFO  c.t.o.util.OutputEnvParser - Successfully parsed 2 variables from output.env
2025-11-17 20:37:26.442 [main] DEBUG c.t.o.util.OutputEnvParser - Parsed variable: KEY1=quoted value
2025-11-17 20:37:26.443 [main] DEBUG c.t.o.util.OutputEnvParser - Parsed variable: KEY2=single quoted
2025-11-17 20:37:26.443 [main] INFO  c.t.o.util.OutputEnvParser - Successfully parsed 2 variables from output.env
2025-11-17 20:37:26.448 [main] DEBUG c.t.o.util.OutputEnvParser - Parsed variable: KEY1=value1
2025-11-17 20:37:26.448 [main] DEBUG c.t.o.util.OutputEnvParser - Parsed variable: KEY2=value2
2025-11-17 20:37:26.449 [main] INFO  c.t.o.util.OutputEnvParser - Successfully parsed 2 variables from output.env
2025-11-17 20:37:26.484 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@6124287a, started on Mon Nov 17 20:37:14 IST 2025
2025-11-17 20:37:26.509 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists applications cascade 
2025-11-17 20:37:26.513 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists flow_executions cascade 
2025-11-17 20:37:26.514 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists flow_steps cascade 
2025-11-17 20:37:26.516 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists flows cascade 
2025-11-17 20:37:26.516 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists pipeline_executions cascade 
2025-11-17 20:37:26.517 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists test_data cascade 
